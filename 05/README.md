Рекурсия
========

*Итерация свойственна человеку, рекурсия божественна. (Л.Питер Дойч)*

Скорее всего, вы обратили внимание, что в главах, посвященных управлению потоком выполнения, мы не рассматривали циклы. Что ж, пришло время восполнить этот пробел. Только есть один важный момент: в Erlang циклов нет. Что примечательно, циклов нет не только в Erlang, но в большинстве функциональных языков. Вместо циклов функциональные языки предоставляют такую замечательную конструкцию как **рекурсия**. И в этой главе мы подробнее рассмотрим то, как рекурсия реализованна в Erlang.

Рекурсия — вызов функции из неё же самой, непосредственно или через другие функции. Рекурсия в функциональных фхыках заменяет собой циклы. 

Для наглядности давайте рассмотрим классический пример с нахождением факториала заданного числа. Факториал - произведение всех натуральных чисел от 1 до заданного включительно. Факториал из 0 равен 1. Так могла бы выглядеть функция для нахождения факториала на императивном языке:
```
int fact(int x)
{
    if (x == 0) {
        return 1;
    }
		
    int result = 1;
    for (int i = 1; i <= x; i++)
    {
        result *= i;
    }
    return result;
}
```

Но постойте, ведь это можно записать рекурсивно. Ведь можно сказать, что факториал - это произведение заданного числа `X` и факториала из `X-1`. Остается только указать исключительный случай - факториал из нуля. Давайте запишем эту функцию на Erlang:
```erlang
fact(0) -> 1;
fact(X) when X > 0 -> X * fact(X-1).
```

Здесь мы уменьшаем `X` и вызываем функию рекурсивно до тех пор, пока `X` не станет равен нуля. Эта ситуация отлавливается при помощи сопоставления с образцом и рекурсия завершается. Все просто, лаконично и не нужны никакие циклы.


